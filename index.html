<!DOCTYPE html>
<html>
    <h1>
        <a href="index.html" target="blank" >Home</a> 
        <br> 
        <br> <a href="Pages/PagesList.html" target="blank" >Pages</a> 
        <br>
        <br> <a href="Pages/Login.html" target="blank"> Sign Up Or Log In!</a>
    </h1>
    <head>
        <title>AProgramm_R</title>
        <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
    </head>

    <p>
        Hey, Welcome! 
        <br> This Is A Site For <b>AProgramm_R's Experiences.</b>
        <br>
        <br> Twitter: @AProgramm_R
        <br> Roblox User: Jajaka2010
        <br> GitHub: aprogramm-r
        <br> PLEASE READ: Your Account Won't Be Stored Because Account System Still Isn't Finish!
        <br> You Can Always Login If You Don't Refresh This Page Or Close This Tab!
        <br> Wanna Learn Programming? Lets Get Started!
        <br>
        <br> This Site Teach: 
    </p>
    <ul>
        <li>
            JavaScript;
        </li>
        <li>
            Python; (Isn't Here Yet)
        </li>
        <li>
            Lua;
        </li>
        <li>
            VBS; (Isn't Here Yet)
        </li>
        <li>
            HTML
        </li>
    </ul>
    <h1>
        <a href="https://craftgdstudio.wixsite.com/coding/roblox-coding-script-lesson" target="blank"> Learn Lua Programming </a> 
        <br> <a href="./Pages/JavaScript.html" target="blank"> Learn JavaScript Programming </a> 
        <br> <a href="./Pages/HTML.html" target="blank"> Learn HTML Programming </a> 

        <br>
        <br>
        <br> <a href="./Pages/Code.html" target="blank"> JavaScript Coding Editor </a> 
        <br> <a href="./BuildingBlocks.html" target="blank"> Download Building Blocks, AProgramm_R's Game! </a>

    </h1>
    <body>
       
        <script type="module"> 
            import UserModule, {StoreAccounts as StoreAccounts} from "./Accounts.js"
            let Users = [
                {

                    Username: "AProgramm_R",
                    Pass: "AProgramm_RPass"
                }
            ] 


            let Usertaken = false
            let loggedin = false
            let InvaildLogin = false
            if (loggedin === false) {
                const User = document.createElement("textarea")
                const Password = document.createElement("textarea")
                const TxtStatus = document.createElement("h1")
                const loggedout = document.createElement("button")
                const login = document.createElement("button")
                login.innerText = "Log in"
                loggedout.innerText = "Log out"
                TxtStatus.innerText = "Username Already In Used"
                User.innerText = "Username"
                Password.innerText = "Password"
                document.body.appendChild(User)
                document.body.appendChild(Password)
                document.body.appendChild(login)

                const signup = document.createElement("button")
                signup.innerText = "Sign Up"
                document.body.appendChild(signup)
                login.addEventListener("click",function() {
                    for (var count = 0; count < Users.length; count++) {
                        if (User.value === Users[count].Username) {
                            if (Password.value === Users[count].Pass) {
                                loggedin = true
                                document.body.removeChild(User)
                                document.body.removeChild(Password)
                                document.body.removeChild(signup)
                                document.body.removeChild(login)
                    
                                document.body.appendChild(loggedout)  
                                document.body.removeChild(TxtStatus)
                            }else{
                                InvaildLogin = true
                            }

                        }
                            
                    }
                    if (InvaildLogin === true) {
                        alert('Incorrect Username Or Password')
                        InvaildLogin = false
                    }
                })
                signup.addEventListener("click", function() {
                    for (var count = 0; count < Users.length; count++) {
                        if (User.value === Users[count].Username) {
                                Usertaken = true
                            
                            
                        }
                        if (Password.value === User.value) {Usertaken = true}

                    }
                    if (Usertaken) {
                        document.body.appendChild(TxtStatus)
                        TxtStatus.innerText = "Username Already In Used Or User Cannot Be Same As The Password"

                        Usertaken = false
                    }else{
                        Users.push(
                            {
                                Username: User.value,
                                Pass: Password.value
                            }
                        )
                        const NewUser = new UserModule(User.value,Password.value)
                        StoreAccounts(NewUser)
                        loggedin = true
                        document.body.removeChild(User)
                        document.body.removeChild(Password)
                        document.body.removeChild(signup)
                        document.body.appendChild(TxtStatus)
                        document.body.removeChild(login)
                        alert("Account Created")
                        TxtStatus.innerText = "Account Created"
                        console.log(Users)
                        document.body.appendChild(loggedout)      
                    }
                })
                loggedout.addEventListener("click",function() {
                    loggedin = false
                    document.body.appendChild(User)
                    document.body.appendChild(Password)
                    document.body.appendChild(signup)
                    document.body.appendChild(login)
                    Password.value = ""
                    TxtStatus.innerText = ""
                    document.body.removeChild(loggedout)      


                })

            }
           
        </script>       
    </body>
</html>